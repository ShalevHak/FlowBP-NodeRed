<script type="text/html" data-help-name="add-attribute">

</script>

<script type="text/html" data-template-name="add-attribute">

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span
                data-i18n="node-red:common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]node-red:common.label.name">
    </div>

    <div id="numbers-details">
        <div class="form-row">
            <label for="node-input-attribute"><i class="fa fa-tag"></i> Attribute</label>
            <input type="text" id="node-input-attribute">
        </div>
    </div>
</script>


<script type="text/javascript">
  RED.nodes.registerType('add-attribute', {
    category: 'core',
    color: '#E2D96E',
    defaults: { 
      name: { value: "" },
      attribute: { value: ""},
    },
    inputs: 1,
    outputs: 1,
    icon: "file.png",
    label: function () {
      return this.name || "add-attribute";
    },
    paletteLabel: 'add-attribute',
    outputLabels: ["i<n", "i=n"],
    oneditprepare: function () {
      var node = this;
      $("#node-input-type").val('numbers');

      $("#node-input-type").on("change", function () {
        if (this.value === "list") {
          $("#list-details").show();
          $("#numbers-details").hide();
        } else if (this.value === "numbers") {
          $("#list-details").hide();
          $("#numbers-details").show();
        }
      }).trigger("change");
    }
  });
</script>