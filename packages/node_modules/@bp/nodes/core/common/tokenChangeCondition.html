<script type="text/html" data-help-name="change-condition">

</script>

<script type="text/html" data-template-name="change-condition">

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span
                data-i18n="node-red:common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]node-red:common.label.name">
    </div>

    <div id="numbers-details">
        <div class="form-row">
            <label for="node-input-condition"><i class="fa fa-tag"></i> Condition</label>
            <input type="text" id="node-input-condition">
        </div>
    </div>
</script>


<script type="text/javascript">
  RED.nodes.registerType('change-condition', {
    category: 'core',
    color: 'red',
    defaults: { 
      name: { value: "" },
      condition: { value: ""}
    },
    inputs: 1,
    outputs: 1,
    icon: "fa-exchange",
    label: function () {
      return this.name || "change-condition";
    },
    paletteLabel: 'change-condition',
    outputLabels: ["i<n", "i=n"],
    oneditprepare: function () {
      var node = this;
      $("#node-input-type").val('numbers');

      $("#node-input-type").on("change", function () {
        if (this.value === "list") {
          $("#list-details").show();
          $("#numbers-details").hide();
        } else if (this.value === "numbers") {
          $("#list-details").hide();
          $("#numbers-details").show();
        }
      }).trigger("change");
    }
  });
</script>